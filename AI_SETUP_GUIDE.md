# ü§ñ Real AI Integration Setup Guide

## Generated by Kiro AI Agent - December 28, 2025

This guide shows you how to set up REAL AI integration for the NCR Local Guide Bot, demonstrating true agentic capabilities.

---

## üéØ What We Built

Your bot now uses **REAL AI** (OpenAI GPT or Anthropic Claude) to generate responses dynamically, not templates!

### Before (Template-based):
```javascript
if (query.includes('jugaad')) {
  return "Jugaad, bhai? Yeh to NCR ki jaan hai!...";
}
```

### After (AI-powered):
```javascript
const aiResponse = await aiService.generateResponse(query);
// AI generates unique response using product.md context!
```

---

## üöÄ Quick Setup (5 minutes)

### Option 1: Google Gemini (RECOMMENDED - FREE!)

1. **Get API Key**:
   - Go to: https://aistudio.google.com/app/apikey
   - Sign in with Google account
   - Click "Create API Key"
   - Copy the key

2. **Configure**:
   ```bash
   # Copy example env file
   cp .env.example .env
   
   # Edit .env and add your key
   GEMINI_API_KEY=your-key-here
   AI_PROVIDER=gemini
   ```

3. **Test**:
   ```bash
   npm start
   # Check logs for "‚úÖ AI Service initialized with real AI provider"
   ```

**Why Gemini?**
- ‚úÖ FREE tier (15 requests/minute)
- ‚úÖ Fast (Gemini 1.5 Flash)
- ‚úÖ No credit card required
- ‚úÖ Perfect for demos!

### Option 2: OpenAI (Paid)

1. **Get API Key**:
   - Go to: https://platform.openai.com/api-keys
   - Sign up / Log in
   - Click "Create new secret key"
   - Copy the key

2. **Configure**:
   ```bash
   # Copy example env file
   cp .env.example .env
   
   # Edit .env and add your key
   OPENAI_API_KEY=sk-your-key-here
   AI_PROVIDER=openai
   ```

3. **Test**:
   ```bash
   npm start
   # Check logs for "‚úÖ AI Service initialized with real AI provider"
   ```

### Option 2: Anthropic Claude

1. **Get API Key**:
   - Go to: https://console.anthropic.com/
   - Sign up / Log in
   - Generate API key
   - Copy the key

2. **Configure**:
   ```bash
   cp .env.example .env
   
   # Edit .env
   ANTHROPIC_API_KEY=sk-ant-your-key-here
   AI_PROVIDER=anthropic
   ```

3. **Test**:
   ```bash
   npm start
   ```

---

## üß™ Testing Real AI

### Test 1: Check Health
```bash
curl http://localhost:3001/api/health
```

**Expected Response:**
```json
{
  "status": "healthy",
  "aiEnabled": true,
  "aiProvider": "openai",
  "contextLoaded": true,
  "note": "Using real AI"
}
```

### Test 2: Ask a Question
```bash
curl -X POST http://localhost:3001/api/ask \
  -H "Content-Type: application/json" \
  -d '{"query":"What is jugaad?"}'
```

**Expected Response:**
```json
{
  "query": "What is jugaad?",
  "response": "Jugaad, bhai? Yeh to NCR ki jaan hai! ...",
  "source": "OpenAI AI Agent",
  "model": "gpt-4o-mini",
  "provider": "OpenAI",
  "contextUsed": "product.md + ncr-guide-behavior.md"
}
```

### Test 3: Try Different Queries
```bash
# Food recommendation
curl -X POST http://localhost:3001/api/ask \
  -H "Content-Type: application/json" \
  -d '{"query":"Best momos in Ghaziabad?"}'

# Traffic query
curl -X POST http://localhost:3001/api/ask \
  -H "Content-Type: application/json" \
  -d '{"query":"How long from Ghaziabad to Noida?"}'

# Cultural question
curl -X POST http://localhost:3001/api/ask \
  -H "Content-Type: application/json" \
  -d '{"query":"Tell me about Diwali in NCR"}'
```

---

## üí∞ Cost Estimates

### Google Gemini 1.5 Flash (RECOMMENDED)
- **Free Tier**: 15 requests/minute, 1500 requests/day
- **Paid**: ~$0.075 per 1M input tokens, ~$0.30 per 1M output tokens
- **Per Query**: FREE (within limits) or ~$0.0005-0.002
- **100 queries**: FREE!
- **Best for**: Demos, hackathons, testing

### OpenAI GPT-4o-mini
- **Input**: ~$0.15 per 1M tokens
- **Output**: ~$0.60 per 1M tokens
- **Per Query**: ~$0.001-0.005 (very affordable!)
- **100 queries**: ~$0.10-0.50

### Anthropic Claude Haiku
- **Input**: ~$0.25 per 1M tokens
- **Output**: ~$1.25 per 1M tokens
- **Per Query**: ~$0.002-0.008
- **100 queries**: ~$0.20-0.80

**For demo/hackathon**: Gemini's free tier is perfect! No cost at all!

---

## üéØ What Makes This "Real AI"

### 1. Dynamic Response Generation
- AI generates unique responses each time
- Not template-based or hardcoded
- Understands context and nuance

### 2. Context-Aware
- Uses product.md as knowledge base
- Applies steering guidelines for behavior
- Maintains NCR local personality

### 3. Truly Agentic
- AI "thinks" about the query
- Synthesizes information from context
- Generates natural, conversational responses

---

## üì∏ Screenshots for Blog Post

### Screenshot 1: AI Service Logs
```
‚úÖ AI Service initialized with real AI provider
   Provider: openai
   Context: product.md + steering guidelines loaded
```

### Screenshot 2: API Response with AI Metadata
```json
{
  "source": "OpenAI AI Agent",
  "model": "gpt-4o-mini",
  "provider": "OpenAI",
  "contextUsed": "product.md + ncr-guide-behavior.md",
  "generatedAt": "2025-12-28T..."
}
```

### Screenshot 3: Different Responses for Same Query
Ask "What is jugaad?" multiple times - AI generates slightly different responses each time!

---

## üîß Troubleshooting

### Issue: "AI Service not configured"
**Solution**: Check your .env file has the API key set correctly

### Issue: "API error: 401 Unauthorized"
**Solution**: Your API key is invalid. Generate a new one

### Issue: "API error: 429 Too Many Requests"
**Solution**: You've hit rate limits. Wait a minute or upgrade your plan

### Issue: Responses are still template-based
**Solution**: Check logs for "‚úÖ AI Service initialized". If not, check API key

---

## üéì How It Works

### 1. System Prompt Construction
```javascript
buildSystemPrompt() {
  return `You are Kiro, a friendly NCR local guide...
  
  # YOUR CONTEXT:
  ${this.productContext}  // product.md content
  
  # YOUR BEHAVIOR:
  ${this.steeringGuidelines}  // steering guidelines
  
  Now respond to the user's query...`;
}
```

### 2. AI API Call
```javascript
const response = await fetch('https://api.openai.com/v1/chat/completions', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${this.apiKey}`
  },
  body: JSON.stringify({
    model: 'gpt-4o-mini',
    messages: [
      { role: 'system', content: systemPrompt },
      { role: 'user', content: query }
    ]
  })
});
```

### 3. Response Processing
```javascript
const aiResponse = await aiService.generateResponse(query);
// Returns: { response, metadata }
```

---

## üöÄ Deployment to Vercel

### Add Environment Variables

1. Go to Vercel Dashboard
2. Select your project
3. Go to Settings ‚Üí Environment Variables
4. Add:
   - `OPENAI_API_KEY` = your-key
   - `AI_PROVIDER` = openai

### Deploy
```bash
vercel --prod
```

---

## ‚úÖ Verification Checklist

Before submitting, verify:

- [ ] API key is set in .env
- [ ] Server starts with "‚úÖ AI Service initialized"
- [ ] Health endpoint shows `"aiEnabled": true`
- [ ] Responses include AI metadata (source, model, provider)
- [ ] Different queries get unique AI-generated responses
- [ ] Screenshots taken showing real AI in action

---

## üìù For Blog Post

### Add This Section:

```markdown
## Real AI Integration

This project uses **actual AI** (OpenAI GPT-4o-mini) to generate responses, not templates!

### How It Works:
1. User submits query
2. System loads product.md context + steering guidelines
3. AI generates unique response using this context
4. Response includes metadata proving it's AI-generated

### Evidence:
[Screenshot: API response showing "source": "OpenAI AI Agent"]
[Screenshot: Server logs showing AI initialization]
[Screenshot: Different responses for same query]

### The Difference:
- **Before**: Template matching with hardcoded responses
- **After**: Real AI generating unique, context-aware responses
- **Result**: True agentic capabilities demonstrated!
```

---

## üéâ You're Done!

Your NCR Local Guide Bot now uses **REAL AI** to generate responses!

This demonstrates:
- ‚úÖ True agentic AI capabilities
- ‚úÖ Dynamic response generation
- ‚úÖ Context-aware AI integration
- ‚úÖ Not template-based!

**Take screenshots and update your blog post!** üöÄ
