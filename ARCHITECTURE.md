# ğŸ—ï¸ NCR Local Guide Bot - Architecture & System Design

## System Architecture Diagram

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ                          USER INTERFACE LAYER                      â”ƒ
â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”ƒ
â”ƒ  â”‚                                                             â”‚  â”ƒ
â”ƒ  â”‚   ğŸ–¥ï¸ Web Browser (http://localhost:3001)                   â”‚  â”ƒ
â”ƒ  â”‚                                                             â”‚  â”ƒ
â”ƒ  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚  â”ƒ
â”ƒ  â”‚   â”‚ ğŸ—ºï¸ NCR Local Guide Bot                  â”‚             â”‚  â”ƒ
â”ƒ  â”‚   â”‚                                          â”‚             â”‚  â”ƒ
â”ƒ  â”‚   â”‚ Input: "Best momos kaha?"               â”‚             â”‚  â”ƒ
â”ƒ  â”‚   â”‚ [Ask Kiro] Button                       â”‚             â”‚  â”ƒ
â”ƒ  â”‚   â”‚                                          â”‚             â”‚  â”ƒ
â”ƒ  â”‚   â”‚ Response:                                â”‚             â”‚  â”ƒ
â”ƒ  â”‚   â”‚ "Bhai, momos? Raj Nagar Extension..." â”‚             â”‚  â”ƒ
â”ƒ  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚  â”ƒ
â”ƒ  â”‚              â†“ (POST /api/ask)                             â”‚  â”ƒ
â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
                                â†“
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ                        API & BACKEND LAYER                          â”ƒ
â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”ƒ
â”ƒ  â”‚  Express.js Server (http://localhost:3001)                 â”‚  â”ƒ
â”ƒ  â”‚                                                             â”‚  â”ƒ
â”ƒ  â”‚  Routes:                                                    â”‚  â”ƒ
â”ƒ  â”‚  âœ“ POST /api/ask â†’ Process query                          â”‚  â”ƒ
â”ƒ  â”‚  âœ“ GET /api/health â†’ Health check                         â”‚  â”ƒ
â”ƒ  â”‚  âœ“ GET / â†’ Serve frontend                                 â”‚  â”ƒ
â”ƒ  â”‚                                                             â”‚  â”ƒ
â”ƒ  â”‚  Middleware:                                                â”‚  â”ƒ
â”ƒ  â”‚  â€¢ CORS enabled                                             â”‚  â”ƒ
â”ƒ  â”‚  â€¢ JSON parsing                                             â”‚  â”ƒ
â”ƒ  â”‚  â€¢ Static file serving                                      â”‚  â”ƒ
â”ƒ  â”‚  â€¢ Error handling                                           â”‚  â”ƒ
â”ƒ  â”‚                                                             â”‚  â”ƒ
â”ƒ  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                      â”‚  â”ƒ
â”ƒ  â”‚  â”‚ POST /api/ask    â”‚  Input: { query: string }           â”‚  â”ƒ
â”ƒ  â”‚  â”‚                  â”‚  Output: { response: string }        â”‚  â”ƒ
â”ƒ  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                      â”‚  â”ƒ
â”ƒ  â”‚           â†“                                                 â”‚  â”ƒ
â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
                                â†“
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ                         AI PROCESSING LAYER                         â”ƒ
â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”ƒ
â”ƒ  â”‚  ğŸ¤– Kiro AI Engine                                         â”‚  â”ƒ
â”ƒ  â”‚                                                             â”‚  â”ƒ
â”ƒ  â”‚  Process:                                                   â”‚  â”ƒ
â”ƒ  â”‚  1. Receive query from API                                 â”‚  â”ƒ
â”ƒ  â”‚  2. Load context from product.md                           â”‚  â”ƒ
â”ƒ  â”‚  3. Analyze query intent                                   â”‚  â”ƒ
â”ƒ  â”‚  4. Generate response using context                        â”‚  â”ƒ
â”ƒ  â”‚  5. Return formatted response                              â”‚  â”ƒ
â”ƒ  â”‚                                                             â”‚  â”ƒ
â”ƒ  â”‚  Capabilities:                                              â”‚  â”ƒ
â”ƒ  â”‚  â€¢ Natural language understanding                           â”‚  â”ƒ
â”ƒ  â”‚  â€¢ Context-aware responses                                  â”‚  â”ƒ
â”ƒ  â”‚  â€¢ Tone matching (Hinglish)                                â”‚  â”ƒ
â”ƒ  â”‚  â€¢ Intent recognition                                       â”‚  â”ƒ
â”ƒ  â”‚  â€¢ Query handling edge cases                                â”‚  â”ƒ
â”ƒ  â”‚                                                             â”‚  â”ƒ
â”ƒ  â”‚           â†“ (Reads context from)                           â”‚  â”ƒ
â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
                                â†“
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ                      KNOWLEDGE BASE LAYER                           â”ƒ
â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”ƒ
â”ƒ  â”‚  ğŸ“š .kiro/product.md                                       â”‚  â”ƒ
â”ƒ  â”‚                                                             â”‚  â”ƒ
â”ƒ  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚  â”ƒ
â”ƒ  â”‚  â”‚ Local Slang      â”‚  â”‚ Food Culture     â”‚               â”‚  â”ƒ
â”ƒ  â”‚  â”‚                  â”‚  â”‚                  â”‚               â”‚  â”ƒ
â”ƒ  â”‚  â”‚ â€¢ jugaad         â”‚  â”‚ â€¢ Momos          â”‚               â”‚  â”ƒ
â”ƒ  â”‚  â”‚ â€¢ scene kya hai  â”‚  â”‚   (Raj Nagar)    â”‚               â”‚  â”ƒ
â”ƒ  â”‚  â”‚ â€¢ bhaiya         â”‚  â”‚ â€¢ Chaat          â”‚               â”‚  â”ƒ
â”ƒ  â”‚  â”‚ â€¢ chappal        â”‚  â”‚   (Turab Nagar)  â”‚               â”‚  â”ƒ
â”ƒ  â”‚  â”‚ â€¢ mast           â”‚  â”‚ â€¢ Parathas       â”‚               â”‚  â”ƒ
â”ƒ  â”‚  â”‚ â€¢ jugaad         â”‚  â”‚   (Old City)     â”‚               â”‚  â”ƒ
â”ƒ  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚  â”ƒ
â”ƒ  â”‚                                                             â”‚  â”ƒ
â”ƒ  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚  â”ƒ
â”ƒ  â”‚  â”‚ Traffic Insights â”‚  â”‚ Cultural Context â”‚               â”‚  â”ƒ
â”ƒ  â”‚  â”‚                  â”‚  â”‚                  â”‚               â”‚  â”ƒ
â”ƒ  â”‚  â”‚ â€¢ Peak hours:    â”‚  â”‚ â€¢ Local customs  â”‚               â”‚  â”ƒ
â”ƒ  â”‚  â”‚   8-10 AM        â”‚  â”‚ â€¢ Festivals      â”‚               â”‚  â”ƒ
â”ƒ  â”‚  â”‚   6-9 PM         â”‚  â”‚ â€¢ Community      â”‚               â”‚  â”ƒ
â”ƒ  â”‚  â”‚ â€¢ Routes         â”‚  â”‚   characteristicsâ”‚               â”‚  â”ƒ
â”ƒ  â”‚  â”‚ â€¢ NH-24 status   â”‚  â”‚ â€¢ Local wisdom   â”‚               â”‚  â”ƒ
â”ƒ  â”‚  â”‚ â€¢ Alternatives   â”‚  â”‚ â€¢ Behavior tips  â”‚               â”‚  â”ƒ
â”ƒ  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚  â”ƒ
â”ƒ  â”‚                                                             â”‚  â”ƒ
â”ƒ  â”‚  Total Size: ~2,000 words of structured knowledge         â”‚  â”ƒ
â”ƒ  â”‚  Format: Markdown with clear sections                     â”‚  â”ƒ
â”ƒ  â”‚  Update: Edit file, instant knowledge improvement         â”‚  â”ƒ
â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
```

---

## Data Flow Diagram

```
User Action â†’ Frontend Event â†’ API Request â†’ Kiro Processing â†’ Response Generation â†’ Display

1. USER INPUT
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ User types in input:   â”‚
   â”‚ "Best momos kaha?"     â”‚
   â”‚ Clicks "Ask Kiro"      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“

2. FRONTEND PROCESSING
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ â€¢ Validate input       â”‚
   â”‚ â€¢ Show loading state   â”‚
   â”‚ â€¢ Create JSON request  â”‚
   â”‚ â€¢ Send POST to /api/askâ”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“

3. API HANDLING (Express)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ â€¢ Receive request      â”‚
   â”‚ â€¢ Validate query       â”‚
   â”‚ â€¢ Initialize Kiro      â”‚
   â”‚ â€¢ Call Kiro prompt()   â”‚
   â”‚ â€¢ Format response JSON â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“

4. KIRO AI PROCESSING
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ â€¢ Read product.md      â”‚
   â”‚ â€¢ Understand intent    â”‚
   â”‚ â€¢ Match with context   â”‚
   â”‚ â€¢ Generate response    â”‚
   â”‚ â€¢ Apply tone (Hinglish)â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“

5. RESPONSE GENERATION
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ API returns JSON:      â”‚
   â”‚ {                      â”‚
   â”‚   query: "...",        â”‚
   â”‚   response: "Bhai,    â”‚
   â”‚   momos? Raj Nagar...",â”‚
   â”‚   source: "Kiro AI"   â”‚
   â”‚ }                      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“

6. FRONTEND DISPLAY
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ â€¢ Hide loading state   â”‚
   â”‚ â€¢ Display response     â”‚
   â”‚ â€¢ Show metadata        â”‚
   â”‚ â€¢ Animate entry        â”‚
   â”‚ â€¢ Ready for next query â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## File Structure

```
ncr-local-guide-bot/
â”‚
â”œâ”€â”€ ğŸ“ .kiro/                          # â­ KNOWLEDGE BASE (NOT in .gitignore)
â”‚   â””â”€â”€ product.md                     # Kiro's context file
â”‚
â”œâ”€â”€ ğŸ“ src/                            # Backend
â”‚   â””â”€â”€ server.js                      # Express.js API
â”‚
â”œâ”€â”€ ğŸ“ public/                         # Frontend
â”‚   â””â”€â”€ index.html                     # Web UI
â”‚
â”œâ”€â”€ ğŸ“ node_modules/                   # Dependencies (auto-generated)
â”‚
â”œâ”€â”€ ğŸ“„ package.json                    # Project config
â”œâ”€â”€ ğŸ“„ package-lock.json               # Dependency lock
â”‚
â”œâ”€â”€ ğŸ“„ README.md                       # Project documentation
â”œâ”€â”€ ğŸ“„ PROJECT_SUMMARY.md              # This summary
â”œâ”€â”€ ğŸ“„ DEPLOYMENT_GUIDE.md             # Deployment instructions
â”œâ”€â”€ ğŸ“„ TESTING_GUIDE.md                # Testing procedures
â”œâ”€â”€ ğŸ“„ BLOG_POST_DRAFT.md              # Blog template
â”‚
â”œâ”€â”€ ğŸ“„ .gitignore                      # Git ignore (âœ“ NO .kiro)
â”œâ”€â”€ ğŸ“„ quickstart.sh                   # Quick start script
â”‚
â””â”€â”€ ğŸ“„ server.js (alias)               # Link to src/server.js
```

---

## Technology Stack

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ HTML5           â”‚
â”‚ CSS3            â”‚
â”‚ Vanilla JS      â”‚
â”‚ (No frameworks) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Backend       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Node.js v18+    â”‚
â”‚ Express.js 4.x  â”‚
â”‚ cors            â”‚
â”‚ fs (file read)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AI Engine     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Kiro AI         â”‚
â”‚ Custom SDK      â”‚
â”‚ GPT-based       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Knowledge DB   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Markdown file   â”‚
â”‚ product.md      â”‚
â”‚ 2000+ words     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## API Specification

### Endpoint 1: POST /api/ask

**Purpose:** Submit a query and get Kiro's response

**Request:**
```http
POST /api/ask HTTP/1.1
Host: localhost:3001
Content-Type: application/json

{
  "query": "Explain jugaad"
}
```

**Response (Success - 200):**
```json
{
  "query": "Explain jugaad",
  "response": "Jugaad, bhai? Yeh to NCR ki jaan hai! Jugaad matlab ek smart, innovative tarika kisi problem ko solve karne ka... [full response]",
  "timestamp": "2024-12-25T10:30:00.000Z",
  "source": "Kiro AI"
}
```

**Response (Error - 400):**
```json
{
  "error": "Query is required",
  "message": "Please provide a valid query"
}
```

**Response (Error - 500):**
```json
{
  "error": "Internal server error",
  "message": "Error details here"
}
```

### Endpoint 2: GET /api/health

**Purpose:** Check server and Kiro status

**Request:**
```http
GET /api/health HTTP/1.1
Host: localhost:3001
```

**Response (200):**
```json
{
  "status": "healthy",
  "kiroStatus": "initialized",
  "timestamp": "2024-12-25T10:30:00.000Z"
}
```

---

## State Management (Frontend)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Browser State                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                  â”‚
â”‚ userQuery = ""                   â”‚
â”‚ response = ""                    â”‚
â”‚ isLoading = false                â”‚
â”‚ error = ""                       â”‚
â”‚ metadata = {}                    â”‚
â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ (on user input)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Input Changed                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ userQuery = "Best momos?"        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ (on Ask Click)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Loading State                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ isLoading = true                 â”‚
â”‚ Show spinner animation           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ (API response)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Response Received               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ isLoading = false                â”‚
â”‚ response = "Bhai, momos?..."     â”‚
â”‚ metadata = { timestamp, source } â”‚
â”‚ Display response box             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Performance Characteristics

```
LATENCY BREAKDOWN
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Component                   â”‚ Time     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Network (Frontend â†’ API)    â”‚ 10-50ms  â”‚
â”‚ Express processing          â”‚ 5-10ms   â”‚
â”‚ Kiro AI inference           â”‚ 200-500msâ”‚
â”‚ Network (Response)          â”‚ 10-50ms  â”‚
â”‚ Frontend render             â”‚ 10-20ms  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TOTAL                       â”‚ 250-650msâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TARGET: < 1000ms (very acceptable)

MEMORY USAGE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Component                   â”‚ Size     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Node.js process             â”‚ 50-100MB â”‚
â”‚ Kiro context (product.md)   â”‚ < 1MB    â”‚
â”‚ Express app                 â”‚ < 5MB    â”‚
â”‚ Response cache              â”‚ < 10MB   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TOTAL                       â”‚ < 150MB  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

THROUGHPUT
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Metric                      â”‚ Value    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Requests/second             â”‚ 10-50    â”‚
â”‚ Concurrent users            â”‚ 5-20     â”‚
â”‚ Max payload size            â”‚ 1MB      â”‚
â”‚ Response time (p95)         â”‚ < 500ms  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Error Handling Flow

```
User Query
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Validate Input          â”‚
â”‚ (empty? too long?)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
    â”œâ”€ ERROR â†’ Return 400
    â”‚          "Invalid query"
    â”‚
    â””â”€ OK â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Call Kiro API           â”‚
        â”‚ Read product.md         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
            â”œâ”€ ERROR â†’ Return 500
            â”‚          (Fallback response)
            â”‚
            â””â”€ OK â†“
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ Generate Response       â”‚
                â”‚ Format JSON             â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
                Return 200 + Response
```

---

## Scalability Architecture

### Current (Single Instance)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User 1   â”‚
â”‚ User 2   â”‚â”
â”‚ User 3   â”‚â”‚ â†’ API Server â†’ Kiro
â”‚ ...      â”‚â””
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Scaled (Multiple Instances)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User 1   â”‚  â†’  Load   â†’  â”‚ Instance â”‚
â”‚ User 2   â”‚     Balancer   â”‚ 1        â”‚
â”‚ User 3   â”‚  â†’           â”‚ Instance â”‚
â”‚ ...      â”‚               â”‚ 2        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚ Instance â”‚
                           â”‚ 3        â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â†“
                            Shared Context
                            (product.md)
```

### Multi-Region
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NCR Local Guide     â”‚ Ghaziabad/Delhi
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Context: NCR.md     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mumbai Local Guide  â”‚ Mumbai
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Context: Mumbai.md  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Bangalore Guide     â”‚ Bangalore
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Context: Blr.md     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

(Same code, different contexts!)
```

---

## Security Considerations

```
IMPLEMENTED
â”œâ”€â”€ CORS (Cross-Origin Resource Sharing)
â”œâ”€â”€ Input validation
â”œâ”€â”€ Error message sanitization
â””â”€â”€ No sensitive data in responses

RECOMMENDED FOR PRODUCTION
â”œâ”€â”€ Rate limiting (prevent abuse)
â”œâ”€â”€ API key authentication
â”œâ”€â”€ HTTPS/SSL encryption
â”œâ”€â”€ Request logging & monitoring
â”œâ”€â”€ DDOS protection
â”œâ”€â”€ SQL injection prevention (if DB added)
â””â”€â”€ XSS protection
```

---

## Deployment Architectures

### Option 1: Vercel (Simplest)
```
GitHub Repo
    â†“
Auto-deploy on push
    â†“
Vercel CDN (Global)
    â†“
User â†’ Nearest edge location
```

### Option 2: Heroku
```
GitHub Repo
    â†“
Heroku CI/CD
    â†“
Heroku Dyno
    â†“
User â†’ Heroku servers
```

### Option 3: AWS
```
GitHub Repo
    â†“
CodePipeline
    â†“
â”œâ”€ EC2 Instance
â”œâ”€ Elastic Beanstalk
â””â”€ Lambda (serverless)
    â†“
User â†’ AWS infrastructure
```

---

## Monitoring & Logging

```
WHAT TO MONITOR
â”œâ”€â”€ Response times
â”œâ”€â”€ Error rates
â”œâ”€â”€ Request volume
â”œâ”€â”€ API availability
â”œâ”€â”€ Kiro integration health
â””â”€â”€ User query patterns

LOGGING LEVELS
â”œâ”€â”€ INFO: Normal operation
â”œâ”€â”€ WARNING: Issues but recoverable
â”œâ”€â”€ ERROR: API or service failures
â””â”€â”€ DEBUG: Detailed diagnostic info
```

---

This architecture is simple, scalable, and maintainable! ğŸš€

---

**Next: Follow DEPLOYMENT_GUIDE.md to put it live!**
